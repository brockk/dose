<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Get samples of the probability of toxicity. — prob_tox_samples • escalation</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Get samples of the probability of toxicity. — prob_tox_samples" />
<meta property="og:description" content="Get samples of the probability of toxicity. For instance, a Bayesian approach
that supports sampling would be expected to return posterior samples of the
probability of toxicity. If this class does not support sampling, this
function will raise an error. You can check whether this class supports
sampling by calling supports_sampling.
Get samples of the probability of efficacy For instance, a Bayesian approach
that supports sampling would be expected to return posterior samples of the
probability of toxicity. If this class does not support sampling, this
function will raise an error. You can check whether this class supports
sampling by calling supports_sampling." />
<meta property="og:image" content="/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">escalation</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/A100-DoseSelectors.html">Using escalation</a>
    </li>
    <li>
      <a href="../articles/A205-CRM.html">Continual Reassessment Method</a>
    </li>
    <li>
      <a href="../articles/A207-NBG.html">Neuenschwander, Branson &amp; Gsponer</a>
    </li>
    <li>
      <a href="../articles/A210-TPI.html">Toxicity Probability Interval Design</a>
    </li>
    <li>
      <a href="../articles/A220-mTPI.html">Modified Toxicity Probability Interval Design</a>
    </li>
    <li>
      <a href="../articles/A230-BOIN.html">Bayesian Optimal Interval Design</a>
    </li>
    <li>
      <a href="../articles/A600-DosePaths.html">Working with dose-paths</a>
    </li>
    <li>
      <a href="../articles/A700-Simulation.html">Simulating dose-escalation trials</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Get samples of the probability of toxicity.</h1>
    
    <div class="hidden name"><code>prob_tox_samples.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Get samples of the probability of toxicity. For instance, a Bayesian approach
that supports sampling would be expected to return posterior samples of the
probability of toxicity. If this class does not support sampling, this
function will raise an error. You can check whether this class supports
sampling by calling <code><a href='supports_sampling.html'>supports_sampling</a></code>.</p>
<p>Get samples of the probability of efficacy For instance, a Bayesian approach
that supports sampling would be expected to return posterior samples of the
probability of toxicity. If this class does not support sampling, this
function will raise an error. You can check whether this class supports
sampling by calling <code><a href='supports_sampling.html'>supports_sampling</a></code>.</p>
    </div>

    <pre class="usage"><span class='fu'>prob_tox_samples</span><span class='op'>(</span><span class='va'>x</span>, tall <span class='op'>=</span> <span class='cn'>FALSE</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>prob_eff_samples</span><span class='op'>(</span><span class='va'>x</span>, tall <span class='op'>=</span> <span class='cn'>FALSE</span>, <span class='va'>...</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>Object of type <code><a href='selector.html'>selector</a></code></p></td>
    </tr>
    <tr>
      <th>tall</th>
      <td><p>logical, if FALSE, a wide data-frame is returned with columns
pertaining to the doses and column names the dose indices.
If TRUE, a tall data-frame is returned with data for all doses stacked
vertically. In this mode, column names will include <code>dose</code> and
<code>prob_eff</code>.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>arguments passed to other methods</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>data-frame like object</p>
<p>data-frame like object</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># CRM example</span>
<span class='va'>skeleton</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.05</span>, <span class='fl'>0.1</span>, <span class='fl'>0.25</span>, <span class='fl'>0.4</span>, <span class='fl'>0.6</span><span class='op'>)</span>
<span class='va'>target</span> <span class='op'>&lt;-</span> <span class='fl'>0.25</span>
<span class='va'>outcomes</span> <span class='op'>&lt;-</span> <span class='st'>'1NNN 2NTN'</span>
<span class='va'>fit</span> <span class='op'>&lt;-</span> <span class='fu'><a href='get_dfcrm.html'>get_dfcrm</a></span><span class='op'>(</span>skeleton <span class='op'>=</span> <span class='va'>skeleton</span>, target <span class='op'>=</span> <span class='va'>target</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='fu'><a href='fit.html'>fit</a></span><span class='op'>(</span><span class='va'>outcomes</span><span class='op'>)</span>
<span class='va'>fit</span> <span class='op'>%&gt;%</span> <span class='fu'>prob_tox_samples</span><span class='op'>(</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span style='color: #949494;'># A tibble: 4,000 × 6</span><span>
#&gt;    .draw    `1`    `2`   `3`   `4`   `5`
#&gt;    </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>  </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>  </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #BCBCBC;'> 1</span><span> 1     0.305  0.402  0.577 0.696 0.817
#&gt; </span><span style='color: #BCBCBC;'> 2</span><span> 2     0.051</span><span style='text-decoration: underline;'>0</span><span> 0.102  0.252 0.403 0.602
#&gt; </span><span style='color: #BCBCBC;'> 3</span><span> 3     0.304  0.400  0.576 0.694 0.816
#&gt; </span><span style='color: #BCBCBC;'> 4</span><span> 4     0.242  0.336  0.518 0.648 0.785
#&gt; </span><span style='color: #BCBCBC;'> 5</span><span> 5     0.124  0.201  0.381 0.528 0.700
#&gt; </span><span style='color: #BCBCBC;'> 6</span><span> 6     0.063</span><span style='text-decoration: underline;'>2</span><span> 0.120  0.279 0.430 0.624
#&gt; </span><span style='color: #BCBCBC;'> 7</span><span> 7     0.033</span><span style='text-decoration: underline;'>2</span><span> 0.073</span><span style='text-decoration: underline;'>0</span><span> 0.207 0.353 0.559
#&gt; </span><span style='color: #BCBCBC;'> 8</span><span> 8     0.254  0.349  0.531 0.658 0.792
#&gt; </span><span style='color: #BCBCBC;'> 9</span><span> 9     0.020</span><span style='text-decoration: underline;'>9</span><span> 0.051</span><span style='text-decoration: underline;'>1</span><span> 0.167 0.306 0.517
#&gt; </span><span style='color: #BCBCBC;'>10</span><span> 10    0.152  0.235  0.418 0.562 0.725
#&gt; </span><span style='color: #949494;'># … with 3,990 more rows</span><span></div><div class='input'><span class='va'>fit</span> <span class='op'>%&gt;%</span> <span class='fu'>prob_tox_samples</span><span class='op'>(</span>tall <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
</div><div class='output co'>#&gt; </span><span style='color: #949494;'># A tibble: 20,000 × 3</span><span>
#&gt;    .draw dose  prob_tox
#&gt;    </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>    </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #BCBCBC;'> 1</span><span> 1     1      0.020</span><span style='text-decoration: underline;'>9</span><span> 
#&gt; </span><span style='color: #BCBCBC;'> 2</span><span> 2     1      0.072</span><span style='text-decoration: underline;'>7</span><span> 
#&gt; </span><span style='color: #BCBCBC;'> 3</span><span> 3     1      0.042</span><span style='text-decoration: underline;'>3</span><span> 
#&gt; </span><span style='color: #BCBCBC;'> 4</span><span> 4     1      0.070</span><span style='text-decoration: underline;'>9</span><span> 
#&gt; </span><span style='color: #BCBCBC;'> 5</span><span> 5     1      0.036</span><span style='text-decoration: underline;'>7</span><span> 
#&gt; </span><span style='color: #BCBCBC;'> 6</span><span> 6     1      0.021</span><span style='text-decoration: underline;'>0</span><span> 
#&gt; </span><span style='color: #BCBCBC;'> 7</span><span> 7     1      0.056</span><span style='text-decoration: underline;'>3</span><span> 
#&gt; </span><span style='color: #BCBCBC;'> 8</span><span> 8     1      0.109  
#&gt; </span><span style='color: #BCBCBC;'> 9</span><span> 9     1      0.044</span><span style='text-decoration: underline;'>3</span><span> 
#&gt; </span><span style='color: #BCBCBC;'>10</span><span> 10    1      0.001</span><span style='text-decoration: underline;'>62</span><span>
#&gt; </span><span style='color: #949494;'># … with 19,990 more rows</span><span></div><div class='input'><span class='va'>efftox_priors</span> <span class='op'>&lt;-</span> <span class='fu'>trialr</span><span class='fu'>::</span><span class='va'><a href='https://rdrr.io/pkg/trialr/man/efftox_priors.html'>efftox_priors</a></span>
<span class='va'>p</span> <span class='op'>&lt;-</span> <span class='fu'>efftox_priors</span><span class='op'>(</span>alpha_mean <span class='op'>=</span> <span class='op'>-</span><span class='fl'>7.9593</span>, alpha_sd <span class='op'>=</span> <span class='fl'>3.5487</span>,
                   beta_mean <span class='op'>=</span> <span class='fl'>1.5482</span>, beta_sd <span class='op'>=</span> <span class='fl'>3.5018</span>,
                   gamma_mean <span class='op'>=</span> <span class='fl'>0.7367</span>, gamma_sd <span class='op'>=</span> <span class='fl'>2.5423</span>,
                   zeta_mean <span class='op'>=</span> <span class='fl'>3.4181</span>, zeta_sd <span class='op'>=</span> <span class='fl'>2.4406</span>,
                   eta_mean <span class='op'>=</span> <span class='fl'>0</span>, eta_sd <span class='op'>=</span> <span class='fl'>0.2</span>,
                   psi_mean <span class='op'>=</span> <span class='fl'>0</span>, psi_sd <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>
<span class='va'>real_doses</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1.0</span>, <span class='fl'>2.0</span>, <span class='fl'>4.0</span>, <span class='fl'>6.6</span>, <span class='fl'>10.0</span><span class='op'>)</span>
<span class='va'>model</span> <span class='op'>&lt;-</span> <span class='fu'><a href='get_trialr_efftox.html'>get_trialr_efftox</a></span><span class='op'>(</span>real_doses <span class='op'>=</span> <span class='va'>real_doses</span>,
                           efficacy_hurdle <span class='op'>=</span> <span class='fl'>0.5</span>, toxicity_hurdle <span class='op'>=</span> <span class='fl'>0.3</span>,
                           p_e <span class='op'>=</span> <span class='fl'>0.1</span>, p_t <span class='op'>=</span> <span class='fl'>0.1</span>,
                           eff0 <span class='op'>=</span> <span class='fl'>0.5</span>, tox1 <span class='op'>=</span> <span class='fl'>0.65</span>,
                           eff_star <span class='op'>=</span> <span class='fl'>0.7</span>, tox_star <span class='op'>=</span> <span class='fl'>0.25</span>,
                           priors <span class='op'>=</span> <span class='va'>p</span>, iter <span class='op'>=</span> <span class='fl'>1000</span>, chains <span class='op'>=</span> <span class='fl'>1</span>, seed <span class='op'>=</span> <span class='fl'>2020</span><span class='op'>)</span>
<span class='va'>x</span> <span class='op'>&lt;-</span> <span class='va'>model</span> <span class='op'>%&gt;%</span> <span class='fu'><a href='fit.html'>fit</a></span><span class='op'>(</span><span class='st'>'1N 2E 3B'</span><span class='op'>)</span>
<span class='fu'>prob_tox_samples</span><span class='op'>(</span><span class='va'>x</span>, tall <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
</div><div class='output co'>#&gt; </span><span style='color: #949494;'># A tibble: 2,500 × 3</span><span>
#&gt;    .draw dose    prob_tox
#&gt;    </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>      </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #BCBCBC;'> 1</span><span> 1     1     0.000</span><span style='text-decoration: underline;'>001</span><span>32
#&gt; </span><span style='color: #BCBCBC;'> 2</span><span> 2     1     0.014</span><span style='text-decoration: underline;'>8</span><span>    
#&gt; </span><span style='color: #BCBCBC;'> 3</span><span> 3     1     0.007</span><span style='text-decoration: underline;'>74</span><span>   
#&gt; </span><span style='color: #BCBCBC;'> 4</span><span> 4     1     0.000</span><span style='text-decoration: underline;'>894</span><span>  
#&gt; </span><span style='color: #BCBCBC;'> 5</span><span> 5     1     0.000</span><span style='text-decoration: underline;'>643</span><span>  
#&gt; </span><span style='color: #BCBCBC;'> 6</span><span> 6     1     0.010</span><span style='text-decoration: underline;'>4</span><span>    
#&gt; </span><span style='color: #BCBCBC;'> 7</span><span> 7     1     0.000</span><span style='text-decoration: underline;'>533</span><span>  
#&gt; </span><span style='color: #BCBCBC;'> 8</span><span> 8     1     0.004</span><span style='text-decoration: underline;'>20</span><span>   
#&gt; </span><span style='color: #BCBCBC;'> 9</span><span> 9     1     0.002</span><span style='text-decoration: underline;'>73</span><span>   
#&gt; </span><span style='color: #BCBCBC;'>10</span><span> 10    1     0.000</span><span style='text-decoration: underline;'>087</span><span>8 
#&gt; </span><span style='color: #949494;'># … with 2,490 more rows</span><span></div></span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Kristian Brock.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


